
- defaults:
    link:
        create: true
        force: true
        relink: true 


- clean:
    ~/:
        force: true
    ~/.config:
        recursive: true


- create:
    - ~/bin
    - ~/repos
    - ~/.themes


# TODO Can this flag be set by some other means?
- shell:
    - [touch ~/.primaryhost, Create the primary host flag]


- link:
    ~/:
        path: home/.*
        glob: true
    ~/Downloads: /tmp
    ~/tmp: /tmp
    ~/toby:
        path: /nfs/home/$USER
        ignore-missing: true
    ~/VirtualBoxVMs:
        path: /mnt/vmdrive/$USER/virtualbox
        ignore-missing: true
    ~/.config/:
        path: config/*/*
        glob: true
        exclude: [config/autostart/*, config/Code/*]
    ~/.config/autostart: config/autostart
    ~/.config/Code/User/:
        path: config/Code/User/*
        glob: true



# Install theme files
- shell:
    - command: cd ~; ls .dotfiles/themes/*.tar.gz | head -n 1 | xargs tar -vxf
      description: Installing theme files
      stderr: true
