
- defaults:
    link:
        create: true
        force: true
        relink: true 


- clean:
    ~/:
        force: true
    ~/.config:
        recursive: true


- create:
    - ~/bin
    - ~/repos
    - ~/.themes


# TODO Can this flag be set by some other means?
- shell:
    - [touch ~/.primaryhost, Create the primary host flag]


- link:
    ~/:
        path: home/.*
        glob: true
    ~/Downloads: /tmp
    ~/tmp: /tmp
    ~/toby:
        path: /nfs/home/$USER
        ignore-missing: true
    ~/VirtualBoxVMs:
        path: /mnt/vmdrive/$USER/virtualbox
        ignore-missing: true
    ~/.config/:
        path: config.subdirs/*/*
        glob: true
        exclude:
            - config.subdirs/autostart/*
            - config.subdirs/Code/*
            - config.subdirs/my-configs/*
            - config.subdirs/tilda/*
            - config.subdirs/xrandr/*
    ~/.config/autostart: config.subdirs/autostart
    ~/.config/Code/User/:
        path: config.subdirs/Code/User/*
        glob: true
    ~/.config/my-configs: config.subdirs/my-configs
    ~/.config/tilda: config.subdirs/tilda
    ~/.config/xrandr: config.subdirs/xrandr



# Install theme files
- shell:
    - command: cd ~; ls .dotfiles/themes/*.tar.gz | head -n 1 | xargs tar -vxf
      description: Installing theme files
      stderr: true
